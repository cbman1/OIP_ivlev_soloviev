## Ивлев Илья, Соловьев Данил 11-103
## https://vectorsearch-ziperlin.amvera.io/search?query=%D1%87%D1%82%D0%BE+%D0%B7%D0%BD%D0%B0%D1%87%D0%B8%D1%82+%D0%B0%D1%82%D1%8F
---

## **README к Заданию №5**

### Описание

Реализация **векторного поиска** по текстовым документам коллекции. Основные задачи:

1.  **Загрузка данных:** Использование предобработанных данных из предыдущих заданий, включая TF-IDF векторы документов (по леммам), глобальные IDF значения и карту URL.
2.  **Обработка запроса:** Прием текстового запроса от пользователя, его токенизация, лемматизация (`pymorphy2`) и преобразование в TF-IDF вектор.
3.  **Расчет сходства:** Вычисление **косинусного сходства** между вектором запроса и векторами всех документов.
4.  **Ранжирование и вывод:** Отображение в консоли списка наиболее релевантных (похожих) документов, отсортированных по убыванию сходства, с указанием их ID, URL и оценки сходства.

### Файлы проекта (`task5/`)

*   **`vector_search.py`**:
    *   Загружает список всех документов (`../task3/all_docs.json`), карту ID-URL (`../task1/index.txt`), TF-IDF векторы и IDF значения из файлов `../task4/task4_output/выкачкаN/lemmas_tf_idf.txt`.
    *   Запускает интерактивный режим в консоли для приема поисковых запросов.
    *   Обрабатывает введенный запрос (лемматизация, построение TF-IDF вектора).
    *   Вычисляет косинусное сходство между вектором запроса и векторами всех документов.
    *   Выводит в консоль ранжированный список топ-N найденных документов.

### Дополнительные файлы и структура директорий

*   **Используемые входные данные:**
    *   `../task1/index.txt` (для получения URL по ID документа).
    *   `../task3/all_docs.json` (для получения списка всех ID документов).
    *   `../task4/task4_output/выкачкаN/lemmas_tf_idf.txt` (для загрузки TF-IDF векторов документов и глобальных IDF значений).
*   **Выходные данные:**
    *   Результаты поиска выводятся **в консоль** в формате:
        `N. Документ: <doc_id>, Сходство: <similarity_score>, URL: <url>`

### Deployment Manual (Инструкция по запуску)

1.  **Предварительные шаги:**
    *   Убедитесь, что результаты выполнения Заданий 1, 3 и 4 существуют и находятся в соответствующих директориях (`../task1/`, `../task3/`, `../task4/`) относительно папки `task5/`.
    *   Убедитесь, что библиотека `pymorphy2` установлена (`pip install pymorphy2`).
    *   Проверьте корректность путей к данным внутри скрипта `vector_search.py`.
2.  **Запуск векторного поиска:**
    *   Перейдите в директорию `task5/`.
    *   Выполните команду:
        ```bash
        python vector_search.py
        ```
    *   Дождитесь загрузки данных и появления приглашения `Запрос>`.
    *   Введите ваш поисковый запрос и нажмите Enter.
    *   Для выхода из режима поиска введите `quit` или `exit`.

### Предварительные требования

*   Python 3.7+ (Рекомендуется Python **<= 3.10** для совместимости с `pymorphy2==0.9.1`).
*   Наличие результатов выполнения Заданий №1, №3, №4.
*   Библиотека `pymorphy2`.